@model IEnumerable<Entites.Models.MessageModels.GamedyaMessage>
@using Gamedya.Helper;
@{
    ViewBag.Title = "MyMessages";
}
<div class="container">

    <h3>Gelen Mesajlar</h3>

    <br />
    <hr />
    <a href="/Message/Create" class="btn btn-primary">
        Yeni mesaj gönder
    </a>

    <table class="table ">
        <tr>

            <th>
                @Html.DisplayNameFor(model => model.Date)
            </th>
            <th>
                Gönderen
            </th>

            <th>
                @Html.DisplayNameFor(model => model.Content)
            </th>

            <th></th>
        </tr>

        @foreach (var item in Model)
        {
            if (item.IsRead == true)
            {
                <tr style="border-bottom:solid;border-color:#E0EEEE; color:gray">

                    <td>
                        @Html.DisplayFor(modelItem => item.Date)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.SenderName)
                    </td>
                    <td>
                        @Subs.Sub30(item.Content)
                    </td>
                    <td>
                    </td>
                    <td>
                        <a href="@Url.Action("Details", new { id = item.Id })" class="btn btn-primary"> mesaja git   </a>

                        @*silme işleminde id ile birlikte silen kişinin alıcı mı gönderen mi olduğu da actiona gönderilir*@
                        <a href="@Url.Action("Delete", new { id = item.Id,who="receiver" })" class="btn btn-danger">sil</a>
                    </td>

                </tr>
            }

            else
            {
                <tr style="border-bottom:solid;border-color:#E0EEEE;font-weight:bold">

                    <td>
                        @Html.DisplayFor(modelItem => item.Date)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.SenderName)
                    </td>
                    <td>
                        @Subs.Sub30(item.Content)
                    </td>
                    <td>
                    </td>
                    <td>
                        <a href="@Url.Action("Details", new { id = item.Id })" class="btn btn-primary"> mesaja git   </a>

                        @*silme işleminde id ile birlikte silen kişinin alıcı mı gönderen mi olduğu da actiona gönderilir*@
                        <a href="@Url.Action("Delete", new { id = item.Id,who="receiver" })" class="btn btn-danger">sil</a>
                    </td>

                </tr>
            }
        }
    </table>
    @Html.Action("MySentMessages", "Message")
    </div>