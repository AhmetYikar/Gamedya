
@model PagedList.IPagedList<Gamedya.Models.BlogViewModel>
@using PagedList.Mvc;
@using PagedList;
@using Gamedya.Helper;

@{ Layout = "~/Views/Shared/_Layout.cshtml";}

    <div class="container" style="margin-top:50px;">
        <div class="col-md-9">
            <a class="btn btn-primary" href="@Url.Action("Create", "Blog")">Blog Yaz</a>
            <a class="btn btn-warning" href="@Url.Action("BloggersList", "Blog")">Blog Yazarları</a>

            <div class="row">
                @foreach (var item in Model)
                {
                    <div class="col-md-6">
                        <div class="comment_box">
                            <div class="comments_icon"> <i class="fa fa-comments" aria-hidden="true"></i></div>
                            <div class="comments"><a href="#">@item.CommentCount</a></div>
                        </div><!--comment_box-->
                        <div class="feature_news_item">
                            <div class="item">
                                <hr />
                                <div class="item_wrapper">
                                    <div class="item_img">
                                        <a href="@Url.Action("Details", "Blog",new  { id=item.Id})">    <img class="img-responsive" src="@item.TinyImagePath" alt="@item.Title"> </a>
                                    </div> <!--item_img-->
                                    <div class="item_title_date">

                                        <div class="news_item_title">
                                            <h2> <a href="@Url.Action("Details", "Blog",new {id=item.Id})"> @item.Title</a></h2>
                                        </div>
                                        <div class="news_item_title">
                                        </div>
                                        <div class="item_meta">
                                            @item.Date.ToShortDateString()  by: <a style="font-size:18px" href="@Url.Action("BloggerBlogs", "Blog",new {userId=item.NewsUserId})">@item.BloggerName</a>
                                        </div>
                                    </div><!--item_title_date-->
                                </div> <!--item_wrapper-->
                                <div class="item_content">
                                    @Subs.Sub(item.Summary, 150)
                                </div>

                            </div><!--item-->
                        </div><!--feature_news_item-->
                    </div><!--col-md-6-->
                }

            </div><!--row-->
            @if (User.IsInRole("blogger"))
            {
                <a class="btn btn-primary " style="margin-top:30px" href="@Url.Action("BloggerBlogs","Blog",new {userId=User.GetUserId()})">Bloglarım</a>

            }

        </div>
        <div class="col-md-3" style="margin-top:58px">
            @Html.Action("LatestBlogs", "Blog")

            @Html.Action("MostCommented", "Blog")
        </div>


    </div>

<div class="container">
    Sayfa @(Model.PageCount < Model.PageNumber ? 0 : Model.PageNumber) - @Model.PageCount
    @Html.PagedListPager(Model, sayfaNo => Url.Action("Index", "Blog",
    new { sayfaNo, siralama = ViewBag.SonSiralama1, SonArananKelime = ViewBag.sonArananKelime1, @class = "page-numbers current bg-border-color" }), PagedListRenderOptions.OnlyShowFivePagesAtATime)


</div>


